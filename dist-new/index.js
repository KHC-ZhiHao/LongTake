!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.LongTake=e():t.LongTake=e()}(this||("undefined"!=typeof window?window:global),(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist-new/",n(n.s=6)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Base=void 0;var i=function(){function t(t){this.moduleBase={name:"No module base name."},t&&(this.moduleBase.name=t)}return t.prototype.each=function(t,e){if("object"==typeof t)if(Array.isArray(t))for(var n=t.length,i=0;i<n;i++){if("_break"===e(t[i],i))break}else for(var r in t){if("_break"===e(t[r],r))break}else this.systemError("each","Not a object or array.",t)},t.prototype.systemError=function(t,e,n){throw n&&(console.log("%c error object is : ","color:#FFF; background:red"),console.log(n)),new Error("(☉д⊙)!! "+this.moduleBase.name+" => "+t+" -> "+e)},t}();e.Base=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Sprite=void 0;var o=n(0),a=n(2),s=n(3),c=function(t){function e(e){var n=t.call(this,e||"Sprite")||this;return n.main=null,n.event={},n.bitmap=new s.Bitmap(100,100),n.context=n.bitmap.context,n.parent=null,n.children=[],n.status={sort:!1,cache:!1,remove:!1,hidden:!1,childrenDead:!1},n.transform={skewX:0,skewY:0,scaleWidth:1,scaleHeight:1,rotation:0,opacity:255,blendMode:"source-over"},n.position={x:0,y:0,z:0,screenX:0,screenY:0,anchorX:0,anchorY:0},n.filter=null,n.bindUpdateForChild=n.updateForChild.bind(n),n.name=e||"No name",n.bindUpdateForChild=n.updateForChild.bind(n),n}return r(e,t),Object.defineProperty(e.prototype,"helper",{get:function(){return a.helper},enumerable:!1,configurable:!0}),e.isSprite=function(t){return t instanceof this},e.prototype.eachChildren=function(t){for(var e=this.children.length,n=0;n<e;n++)t(this.children[n])},e.prototype.eachChildrenDeep=function(t){var e=function(n){n.eachChildren((function(n){t(n),e(n)}))};e(this)},e.prototype.install=function(t){this.main=t,this.main.register(this),this.create()},e.prototype.create=function(){},Object.defineProperty(e.prototype,"width",{get:function(){return this.bitmap.width},set:function(t){this.bitmap.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.bitmap.height},set:function(t){this.bitmap.height=t},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){"object"==typeof t?t.width&&t.height?this.bitmap.resize(t.width,t.height):this.systemError("resize","Object must have width and height.",t):this.bitmap.resize(t,e||this.height)},e.prototype.addChildren=function(t){e.isSprite(t)?null==t.parent?(t.parent=this,this.children.push(t),this.sortChildren()):this.systemError("addChildren","Sprite have parent.",t):this.systemError("addChildren","Object not a sprite",t)},e.prototype.sortChildren=function(){var t=[],e=[];this.eachChildren((function(t){null==e[t.z]&&(e[t.z]=[]),e[t.z].push(t)})),this.each(e,(function(e){Array.isArray(e)&&(t=t.concat(e))})),this.children=t},e.prototype.on=function(t,e,n){null==this.event[t]?(this.main&&this.main.core&&this.main.core.addEvent(e),this.event[t]={event:e,callback:n}):this.systemError("on","Event name("+t+") conflict.")},e.prototype.off=function(t){delete this.event[t]},e.prototype.mainEvent=function(t){var e=this;null==this.main&&this.parent&&this.parent.main&&this.install(this.parent.main),this.each(t,(function(t,n){e.each(e.event,(function(e){e.event===n&&e.callback(t)}))})),this.eachChildren((function(e){e.mainEvent(t)}))},e.prototype.isTransform=function(){var t=this.transform;return!(0===t.skewX&&0===t.skewY&&1===t.scaleWidth&&1===t.scaleHeight&&0===t.rotation)},e.prototype.scale=function(t,e){this.scaleWidth=t,this.scaleHeight=null==e?t:e},Object.defineProperty(e.prototype,"scaleWidth",{get:function(){return this.transform.scaleWidth},set:function(t){this.transform.scaleWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleHeight",{get:function(){return this.transform.scaleHeight},set:function(t){this.transform.scaleHeight=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenScaleWidth",{get:function(){return null==this.parent?this.scaleWidth:this.scaleWidth*this.parent.screenScaleWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenScaleHeight",{get:function(){return null==this.parent?this.scaleHeight:this.scaleHeight*this.parent.screenScaleHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t%360},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.transform.blendMode},set:function(t){this.transform.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this.transform.opacity},set:function(t){t<=0&&(t=0),t>=255&&(t=255),this.transform.opacity=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skewX",{get:function(){return this.transform.skewX},set:function(t){this.transform.skewX=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skewY",{get:function(){return this.transform.skewY},set:function(t){this.transform.skewY=t},enumerable:!1,configurable:!0}),e.prototype.setAnchor=function(t,e){this.anchorX=t,this.anchorY=null==e?t:e},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){"number"==typeof t&&(this.position.x=t||0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){"number"==typeof t&&(this.position.y=t||0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"z",{get:function(){return this.position.z},set:function(t){"number"==typeof t&&(this.position.z=t,this.parent&&(this.parent.status.sort=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenX",{get:function(){return(this.parent?this.parent.screenX+this.parent.width*this.parent.anchorX:0)+this.x-this.width*this.anchorX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenY",{get:function(){return(this.parent?this.parent.screenY+this.parent.height*this.parent.anchorY:0)+this.y-this.height*this.anchorY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"posX",{get:function(){return this.screenX+this.width*this.anchorX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"posY",{get:function(){return this.screenY+this.height*this.anchorY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchorX",{get:function(){return this.position.anchorX},set:function(t){this.position.anchorX=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchorY",{get:function(){return this.position.anchorY},set:function(t){this.position.anchorY=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canRender",{get:function(){return!this.status.cache},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canShow",{get:function(){return!this.status.hidden},enumerable:!1,configurable:!0}),e.prototype.cache=function(){this.status.cache=!0,this.bitmap.cache=!0},e.prototype.unCache=function(){this.status.cache=!1,this.bitmap.cache=!1},e.prototype.hidden=function(t){this.status.hidden=!t||!!t},e.prototype.unHidden=function(){this.status.hidden=!1},e.prototype.getRealSize=function(){var t=this.width+this.skewY*this.height,e=this.height+this.skewX*this.width,n=Math.abs(this.helper.sinByRad(this.rotation)),i=Math.abs(this.helper.cosByRad(this.rotation));return{width:(t*i+e*n)*this.screenScaleWidth,height:(e*i+t*n)*this.screenScaleHeight}},e.prototype.getRealPosition=function(){return{x:this.screenX*(null==this.parent?1:this.parent.screenScaleWidth),y:this.screenY*(null==this.parent?1:this.parent.screenScaleHeight)}},e.prototype.update=function(){},e.prototype.mainUpdate=function(){null==this.main&&this.parent&&this.parent.main&&this.install(this.parent.main),this.status.sort&&(this.status.sort=!1,this.sortChildren()),this.update(),this.eachChildren(this.bindUpdateForChild),this.status.childrenDead&&(this.status.childrenDead=!1,this.children=this.children.filter((function(t){return t.status.remove&&t.close(),!t.status.remove})))},e.prototype.updateForChild=function(t){!1===t.status.remove?t.mainUpdate():this.status.childrenDead=!0},e.prototype.close=function(){this.parent=null},e.prototype.remove=function(){this.status.remove=!0},e.prototype.removeChild=function(t){e.isSprite(t)?t.parent===this?t.remove():this.systemError("removeChild","Have'n this sprite",t):this.systemError("removeChild","Not a sprite",t)},e.prototype.clearChildren=function(){var t=this;this.eachChildren((function(e){t.removeChild(e)}))},e.prototype.removeChildrenByName=function(t){var e=this;this.eachChildren((function(n){n.name===t&&e.removeChild(n)}))},e.prototype.removeChildrenByIndex=function(t){"number"==typeof t&&this.children[t]&&this.children[t].remove()},e.prototype.render=function(){},e.prototype.mainRender=function(){this.eachChildren(this.renderForChild),this.canRender&&(this.context.save(),this.render(),this.context.restore(),this.filter&&this.renderFilter(this.filter),this.context.restore(),this.bitmap.clearCache())},e.prototype.renderForChild=function(t){t.mainRender()},e.prototype.fromImage=function(t){return this.resize(t),this.render=function(){this.context.drawImage(t,0,0),this.cache()},this},e.prototype.renderFilter=function(t){if(t){var e=this.bitmap.getImageData();t.call(this,e),this.bitmap.putImageData(e),this.eachChildren((function(e){e.renderFilter(t)}))}},e.prototype.eachImgData=function(t,e){for(var n=t.data,i=0;i<n.length;i+=4){i,e({red:n[i],green:n[i+1],blue:n[i+2],alpha:n[i+3]})}},e.prototype.inRect=function(t,e){var n=this.getRealSize(),i=this.getRealPosition();return t>=i.x&&t<=i.x+n.width&&e>=i.y&&e<=i.y+n.height},e}(o.Base);e.Sprite=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.helper=void 0;for(var i=Math.PI/180,r=180/Math.PI,o={},a=-360;a<360;a++)o[a]={sin:Math.sin(a*i),cos:Math.cos(a*i)};e.helper={arc:i,rarc:r,ifEmpty:function(t,e){return null!=t?t:e},sinByRad:function(t){return o[Math.round(t)]?o[Math.round(t)].sin:Math.sin(t*i)},cosByRad:function(t){return o[Math.round(t)]?o[Math.round(t)].cos:Math.cos(t*i)},getVector:function(t,n){return{x:n*e.helper.cosByRad(t),y:n*e.helper.sinByRad(t)}},randInt:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},getAngle:function(t,e,n,i){if(t===n&&e===i)return 0;var o=Math.atan2(i-e,n-t)*r;return o>0?o:360+o},getVisibility:function(){var t=document.body.clientWidth;return t<600?"xs":t>=600&&t<960?"sm":t>=960&&t<1264?"md":t>=1264&&t<1904?"lg":"xl"}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Bitmap=void 0;var o=function(t){function e(e,n,i){void 0===e&&(e=100),void 0===n&&(n=100);var r=t.call(this,"Bitmap")||this;return r.cache=!1,r.imgData=null,r.imgBitmap=null,r._width=0,r._height=0,r.canvas=i||document.createElement("canvas"),r.context=r.canvas.getContext("2d"),r.imgData=null,r.imgBitmap=null,r._width=r.canvas.width,r._height=r.canvas.height,null==i&&r.resize(e,n),r}return r(e,t),e.isBitmap=function(t){return t instanceof this},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this.canvas.width=t||1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this.canvas.height=t||1},enumerable:!1,configurable:!0}),e.prototype.getRenderTarget=function(){return this.imgBitmap&&!0===this.cache?this.imgBitmap:(!1===this.cache||this.cacheImageBitmap(),this.canvas)},e.prototype.resize=function(t,e){this.width=null!=t?t:this.width,this.height=null!=e?e:this.height},e.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},e.prototype.cacheImageBitmap=function(){var t=this,e=new Image;e.onload=function(){t.imgBitmap=e},e.src=this.canvas.toDataURL()},e.prototype.clearCache=function(){this.imgData=null,this.imgBitmap=null},e.prototype.getPixel=function(t,e){var n=this.getImageData(),i=t*(4*n.width)+4*e;return[n.data[i],n.data[i+1],n.data[i+2],n.data[i+3]]},e.prototype.getImageData=function(){return null==this.imgData&&(this.imgData=this.context.getImageData(0,0,this.width,this.height)),this.imgData},e.prototype.putImageData=function(t){this.clear(),this.context.putImageData(t,0,0)},e}(n(0).Base);e.Bitmap=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Loader=void 0;var o=function(t){function e(){var e=t.call(this,"Loader")||this;return e.data={},e.files={},e.fileLength=0,e.completed=0,e}return r(e,t),e.prototype.onload=function(t){var e=this;this.completed>=this.fileLength?t():setTimeout((function(){return e.onload(t)}),100)},e.prototype.start=function(t){var e=this,n=function(n){var r=new Image;r.onload=function(){window.createImageBitmap?window.createImageBitmap(r).then((function(t){e.data[n]=t})):e.data[n]=r,e.completed+=1,"function"==typeof t&&t(e.completed,e.fileLength),e.completed===e.fileLength&&(e.files={})},r.src=i.files[n]},i=this;for(var r in this.files)n(r)},e.prototype.add=function(t,e){null==this.files[t]?(this.fileLength+=1,this.files[t]=this.validateFile(e)):this.systemError("add","Name conflict.",t)},e.prototype.validateFile=function(t){if("string"==typeof t){var e=t.split(".").pop();if(e&&(-1!==["png","jpg"].indexOf(e)||"data:"===t.slice(0,5)))return t}else if(t instanceof Element&&"CANVAS"===t.tagName)return t.toDataURL("image/png");throw this.systemError("validateFile","File type not allowed( png, jpg, canvas element, base64url ).",t)},e.prototype.get=function(t){if(this.data[t])return this.data[t];this.systemError("get","Data not found.",t)},e.prototype.close=function(t){var e=this;null!=t?this.data[t]&&delete this.data[t]:this.each(this.data,(function(t,n){e.close(n)}))},e}(n(0).Base);e.Loader=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Animate=void 0;var o=n(0),a=n(2),s=n(7),c=function(t){function e(e){var n=t.call(this,"Animate")||this;return n.over=!1,n.time=0,n.options={push:a.helper.ifEmpty(e.push,60),begin:a.helper.ifEmpty(e.begin,0),duration:a.helper.ifEmpty(e.duration,1),easing:a.helper.ifEmpty(e.easing,"linear"),alternate:a.helper.ifEmpty(e.alternate,!1),reverse:a.helper.ifEmpty(e.reverse,!1),action:a.helper.ifEmpty(e.action,(function(){return null}))},n.over=!1,n.actionEasing=s.easings[n.options.easing],n.pace=1e3/n.options.push,n.options.reverse&&(n.time=n.options.duration),n}return r(e,t),e.prototype.move=function(){var t=this.options,e=t.push,n=t.reverse,i=t.duration,r=t.action,o=t.alternate,a=1e3/e;if(!1===this.over){var s=this.actionEasing(this.time+=n?-a:a,i);return r(s),o?this.time>=i?n=!0:n&&this.time<=0&&(n=!1):(n&&this.time<=0||this.time>=i)&&(this.over=!0),s}return 1},e.prototype.restart=function(){this.time=this.options.reverse?this.options.duration:0,this.over=!1},e}(o.Base);e.Animate=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LongTake=e.Animate=e.Loader=e.Sprite=void 0;var i=n(1),r=n(4),o=n(5),a=n(8);e.Sprite=i.Sprite,e.Loader=r.Loader,e.Animate=o.Animate,e.LongTake=a.LongTake,t.exports=e.LongTake,t.exports.LongTake=e.LongTake,e.default=e.LongTake},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.easings=void 0,e.easings={linear:function(t,e){return t/e},easeInQuad:function(t,e){return 1*(t/=e)*t},easeOutQuad:function(t,e){return-1*(t/=e)*(t-2)},easeInOutQuad:function(t,e){return(t/=e/2)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t,e){return 1*(t/=e)*t*t},easeOutCubic:function(t,e){return 1*((t=t/e-1)*t*t+1)},easeInOutCubic:function(t,e){return(t/=e/2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t,e){return 1*(t/=e)*t*t*t},easeOutQuart:function(t,e){return-1*((t=t/e-1)*t*t*t-1)},easeInOutQuart:function(t,e){return(t/=e/2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t,e){return 1*(t/=e)*t*t*t*t},easeOutQuint:function(t,e){return 1*((t=t/e-1)*t*t*t*t+1)},easeInOutQuint:function(t,e){return(t/=e/2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t,e){return-1*Math.cos(t/e*(Math.PI/2))+1},easeOutSine:function(t,e){return 1*Math.sin(t/e*(Math.PI/2))},easeInOutSine:function(t,e){return-.5*(Math.cos(Math.PI*t/e)-1)},easeInExpo:function(t,e){return 0===t?0:1*Math.pow(2,10*(t/e-1))},easeOutExpo:function(t,e){return t===e?1:1*(1-Math.pow(2,-10*t/e))},easeInOutExpo:function(t,e){return 0===t?0:t===e?1:(t/=e/2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t,e){return-1*(Math.sqrt(1-(t/=e)*t)-1)},easeOutCirc:function(t,e){return 1*Math.sqrt(1-(t=t/e-1)*t)},easeInOutCirc:function(t,e){return(t/=e/2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t,e){var n=1.70158,i=0,r=1;return 0===t?0:1==(t/=e)?1:(i||(i=.3*e),r<1?(r=1,n=i/4):n=i/(2*Math.PI)*Math.asin(1/r),-r*Math.pow(2,10*(t-=1))*Math.sin((t*e-n)*(2*Math.PI)/i))},easeOutElastic:function(t,e){var n=1.70158,i=0,r=1;return 0===t?0:1==(t/=e)?1:(i||(i=.3*e),r<1?(r=1,n=i/4):n=i/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*t)*Math.sin((t*e-n)*(2*Math.PI)/i)+1)},easeInOutElastic:function(t,e){var n=1.70158,i=0,r=1;return 0===t?0:2==(t/=e/2)?1:(i||(i=e*(.3*1.5)),r<1&&(r=1,n=i/4),t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*e-n)*(2*Math.PI)/i)*-.5:r*Math.pow(2,-10*(t-=1))*Math.sin((t*e-n)*(2*Math.PI)/i)*.5+1)},easeInBack:function(t,e){var n=1.70158;return 1*(t/=e)*t*((n+1)*t-n)},easeOutBack:function(t,e){var n=1.70158;return 1*((t=t/e-1)*t*((n+1)*t+n)+1)},easeInOutBack:function(t,e){var n=1.70158;return(t/=e/2)<1?t*t*((1+(n*=1.525))*t-n)*.5:.5*((t-=2)*t*((1+(n*=1.525))*t+n)+2)},easeInBounce:function(t,n){return 1-e.easings.easeOutBounce(n-t,n)},easeOutBounce:function(t,e){return(t/=e)<1/2.75?7.5625*t*t*1:t<2/2.75?1*(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t,n){return t<n/2?.5*e.easings.easeInBounce(2*t,n):.5*e.easings.easeOutBounce(2*t-n,n)+.5}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LongTake=void 0;var o=n(0),a=n(9),s=n(1),c=n(4),h=n(5),u=function(){function t(t){this.x=0,this.y=0,this.core=t}return Object.defineProperty(t.prototype,"offsetX",{get:function(){return this.checkBorder(this.x,this.core.width*this.core.viewScale,this.core.targetRect.width)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return this.checkBorder(this.y,this.core.height*this.core.viewScale,this.core.targetRect.height)},enumerable:!1,configurable:!0}),t.prototype.checkBorder=function(t,e,n){var i=n/2;return(t*=this.core.viewScale)>i?t>e-i?e-n:(t-i)/this.core.viewScale:0},t}(),p=function(t){function e(e,n,i){var r=t.call(this,"Main")||this;return r.viewScale=1,r.event={},r.eventAction={},r.ticker=null,r.remove=!1,r.baseFps=0,r.framePerSecond=60,r.camera=new u(r),r.bindUpdate=r.update.bind(r),r.bindWindowResize=r.windowResize.bind(r),r.supportRequestAnimationFrame=!!window.requestAnimationFrame,r.requestAnimationFrame=function(t){return r.supportRequestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,1e3/60)},r.target="string"==typeof e?document.getElementById(e):e,r.context=r.target.getContext("2d"),r.width=n,r.height=i,r.container=new a.Container(r.width,r.height,r),r.targetRect=r.target.getBoundingClientRect(),r.addEvent("click",r.resetPointerCoordinate),r.addEvent("pointermove",r.resetPointerCoordinate),r.windowResize(),r.update(),window.addEventListener("resize",r.bindWindowResize),r}return r(e,t),Object.defineProperty(e,"Sprite",{get:function(){return s.Sprite},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Animate",{get:function(){return h.Animate},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Loader",{get:function(){return c.Loader},enumerable:!1,configurable:!0}),e.prototype.setFPS=function(t){"number"==typeof t&&t>0&&t<=60?this.framePerSecond=t:this.systemError("setFPS","FPS must between 1 to 60.",t)},e.prototype.close=function(){this.remove=!0,this.container.stage.eachChildrenDeep((function(t){t.close()})),window.removeEventListener("resize",this.bindWindowResize)},e.prototype.setCamera=function(t,e){this.camera.x=t,this.camera.y=e},e.prototype.addEvent=function(t,e){var n=this;null==this.event[t]&&(this.event[t]=function(i){null==n.eventAction[t]&&(n.eventAction[t]=i,e&&e.bind(n)(i))},this.target.addEventListener(t,this.event[t]))},e.prototype.resetPointerCoordinate=function(t){this.container.pointerX=(t.offsetX/this.viewScale+this.camera.offsetX)*(this.target.width/this.targetRect.width),this.container.pointerY=(t.offsetY/this.viewScale+this.camera.offsetY)*(this.target.height/this.targetRect.height)},e.prototype.targetResize=function(t,e){this.target.width=t,this.target.height=e,this.targetRect=this.target.getBoundingClientRect()},e.prototype.windowResize=function(){this.targetRect=this.target.getBoundingClientRect(),this.onWindowResize()},e.prototype.onWindowResize=function(){},e.prototype.forElementResize=function(t,e){void 0===e&&(e=1),this.targetResize(t.clientWidth,t.clientHeight),t.clientWidth/this.width<t.clientHeight/this.height?this.viewScale=t.clientHeight/this.height*e:this.viewScale=t.clientWidth/this.width*e,this.context.restore(),this.context.save(),this.context.scale(this.viewScale,this.viewScale)},e.prototype.addChildren=function(t){this.container.addChildren(t)},e.prototype.update=function(){if(!0===this.remove)return this.supportRequestAnimationFrame?window.cancelAnimationFrame(this.ticker):window.clearTimeout(this.ticker),null;this.baseFps+=this.framePerSecond,this.stageUpdate(),this.baseFps>=60&&(this.bitmapUpdate(),this.baseFps=this.baseFps%60),this.eventAction={},this.ticker=this.requestAnimationFrame(this.bindUpdate)},e.prototype.stageUpdate=function(){this.container.stage.mainEvent(this.eventAction),this.container.stageUpdate()},e.prototype.bitmapUpdate=function(){this.container.stageRender(),this.context.clearRect(0,0,this.width,this.height),this.context.drawImage(this.container.bitmap.canvas,-this.camera.offsetX,-this.camera.offsetY)},e}(o.Base);e.LongTake=p},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;var o=n(0),a=n(1),s=n(3),c=function(t){function e(e,n,i){var r=t.call(this,"Container")||this;return r.core=null,r.bitmap={},r.pointerX=0,r.pointerY=0,r.stackOpacity=[],r.core=i||null,r.stage=new a.Sprite("Stage"),r.bitmap=new s.Bitmap(e,n),r.context=r.bitmap.context,r.stage.install(r),r.stage.resize(0,0),r.stage.render=function(){this.cache()},r}return r(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this.bitmap.canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.bitmap.canvas.height},enumerable:!1,configurable:!0}),e.prototype.register=function(t){var e=this;this.core&&this.each(t.event,(function(t){e.core&&null==e.core.event[t.event]&&e.core.addEvent(t.event)}))},e.prototype.stageUpdate=function(){this.stage.mainUpdate()},e.prototype.stageRender=function(){this.stage.mainRender(),this.draw()},e.prototype.getImageBitmap=function(t){t(this.bitmap.canvas)},e.prototype.addChildren=function(t){this.stage.addChildren(t)},e.prototype.draw=function(){this.bitmap.clear(),this.render(this.stage)},e.prototype.render=function(t){if(t.canShow){var e=Math.round(t.screenX),n=Math.round(t.screenY),i=t.getRealPosition();this.transform(t),i.x<this.width&&i.y<this.height&&this.context.drawImage(t.bitmap.getRenderTarget(),e,n);for(var r=t.children.length,o=0;o<r;o++)this.render(t.children[o]);this.restore(t)}},e.prototype.transform=function(t){var e=this.context;if(1===t.scaleHeight&&1===t.scaleWidth||e.save(),255!==t.opacity&&(this.stackOpacity.push(t.opacity),e.globalAlpha=this.stackOpacity.reduce((function(t,e){return t+e}))/(255*this.stackOpacity.length)),"source-over"!==t.blendMode&&(e.globalCompositeOperation=t.blendMode),!1!==t.isTransform()){var n=t.posX,i=t.posY;e.translate(n,i),1===t.scaleHeight&&1===t.scaleWidth||e.scale(t.scaleWidth,t.scaleHeight),0!==t.rotation&&e.rotate(t.rotation*t.helper.arc),0===t.skewX&&0===t.skewY||e.transform(1,t.skewX,t.skewY,1,0,0),e.translate(-n,-i)}},e.prototype.restore=function(t){var e=this.context;if(1===t.scaleHeight&&1===t.scaleWidth){if(255!==t.opacity&&(this.stackOpacity.pop(),0===this.stackOpacity.length?e.globalAlpha=1:e.globalAlpha=this.stackOpacity.reduce((function(t,e){return t+e}))/(255*this.stackOpacity.length)),"source-over"!==t.blendMode&&(e.globalCompositeOperation="source-over"),!1!==t.isTransform()){var n=t.posX,i=t.posY;e.translate(n,i),0!==t.rotation&&e.rotate(-t.rotation*t.helper.arc),0===t.skewX&&0===t.skewY||e.transform(1,-t.skewX,-t.skewY,1,0,0),e.translate(-n,-i)}}else e.restore()},e}(o.Base);e.Container=c}])}));